(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{47:function(e,t,a){},48:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a(38),s=a.n(r),i=(a(47),a(48),a(12)),o=a(41),l=a(7),j=a.n(l),u=a(14),h=a(16),d=a(75),b=a(18),m=a(6),O=a(20),x=a.n(O),f="/api/matches",p=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(f);case 2:return t=e.sent,e.abrupt("return",t.data.matches);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(f,t);case 2:return a=e.sent,e.abrupt("return",a.data.match);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._id,delete t._id,e.next=4,x.a.put("".concat(f,"/").concat(a),t);case 4:return n=e.sent,e.abrupt("return",n.data.match);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={getAllMatches:p,deleteMatch:function(){var e=Object(u.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat(f,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data.msg);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addMatch:v,editMatch:T},g=a(77),y=a(74),C=a(40),S=a(78),M=function(e){var t=e.match,a=e.deleteMatch,c=e.setCurrent,r=Object(m.e)(),s=new Date(t.endTime),i=new Date(t.startTime);return Object(n.jsxs)(g.a,{className:"myCard",children:[Object(n.jsx)(y.a,{children:Object(n.jsx)(C.a,{children:t.league})}),Object(n.jsxs)(y.a,{children:[Object(n.jsx)(C.a,{children:Object(n.jsx)("h5",{children:t.homeTeam})}),Object(n.jsx)(C.a,{children:Object(n.jsx)("h4",{children:t.homeTeamScore})}),Object(n.jsx)(C.a,{children:Object(n.jsx)("h2",{children:"-"})}),Object(n.jsx)(C.a,{children:Object(n.jsx)("h4",{children:t.awayTeamScore})}),Object(n.jsx)(C.a,{children:Object(n.jsx)("h5",{children:t.awayTeam})})]}),Object(n.jsx)(y.a,{children:Object(n.jsx)(C.a,{children:t.isActive?"Live Now":(new Date).getTime()>s.getTime()?"Finished at ".concat(s.toLocaleString()):"Starts at ".concat(i.toLocaleString())})}),Object(n.jsx)(y.a,{children:Object(n.jsxs)(C.a,{children:[Object(n.jsx)(S.a,{className:"myBtn",variant:"info",onClick:function(){c(t),r.push("/".concat(t._id))},children:"Edit"}),Object(n.jsx)(S.a,{className:"myBtn",variant:"danger",onClick:function(){return a(t._id)},children:"Delete"})]})})]})},L=a(17),D=a(76),k=function(e){var t=e.setFilteredMatches,a=e.filter,c=e.setFilter,r=e.filterHandler,s=function(e){c(Object(i.a)(Object(i.a)({},a),{},Object(L.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{className:"filter",children:[Object(n.jsx)(y.a,{children:Object(n.jsx)(D.a.Control,{name:"team",type:"text",placeholder:"Search Team",value:a.team,onChange:s})}),Object(n.jsxs)(y.a,{children:[Object(n.jsx)(C.a,{children:Object(n.jsx)(D.a.Control,{name:"from",type:"text",placeholder:"From Date",value:a.from,onChange:s})}),Object(n.jsx)(C.a,{children:Object(n.jsx)(D.a.Control,{name:"to",type:"text",placeholder:"To Date",value:a.to,onChange:s})})]}),Object(n.jsxs)(y.a,{children:[Object(n.jsx)(C.a,{children:Object(n.jsx)(S.a,{variant:"info",onClick:r,children:"Apply filters"})}),Object(n.jsx)(C.a,{children:Object(n.jsx)(S.a,{variant:"info",onClick:function(){t(null),c({team:"",from:"",to:""})},children:"Clear filters"})})]})]})},A=function(e){var t=e.matches,a=e.deleteMatch,c=e.setCurrent,r=Object(m.e)();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S.a,{className:"myBtn",variant:"success",onClick:function(){return r.push("/matches/add")},children:"Add Match"}),t.map((function(e){return Object(n.jsx)(M,{match:e,deleteMatch:a,setCurrent:c},e._id)}))]})},I=function(e){var t=e.text,a=e.onSubmit,r=e.current,s=Object(c.useState)({}),o=Object(h.a)(s,2),l=o[0],j=o[1],u=Object(m.e)();Object(c.useEffect)((function(){j(r||{homeTeam:"",awayTeam:"",homeTeamScore:0,awayTeamScore:0,startTime:"",endTime:"",league:"",duration:0,isActive:!1})}),[]);var b=function(e){j(Object(i.a)(Object(i.a)({},l),{},Object(L.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)(d.a,{children:[Object(n.jsx)("h3",{children:t}),Object(n.jsxs)(D.a,{onSubmit:function(e){e.preventDefault(),a(l),u.push("/")},children:[Object(n.jsxs)(y.a,{children:[Object(n.jsx)(C.a,{children:Object(n.jsxs)(D.a.Group,{controlId:"homeTeam",children:[Object(n.jsx)(D.a.Label,{children:"Home Team"}),Object(n.jsx)(D.a.Control,{name:"homeTeam",type:"text",placeholder:"Home Team",value:l.homeTeam,onChange:b})]})}),Object(n.jsx)(C.a,{children:Object(n.jsxs)(D.a.Group,{controlId:"homeTeamScore",children:[Object(n.jsx)(D.a.Label,{children:"HomeTeamScore"}),Object(n.jsx)(D.a.Control,{name:"homeTeamScore",type:"number",placeholder:"HomeTeam Score",value:l.homeTeamScore,onChange:b})]})})]}),Object(n.jsxs)(y.a,{children:[Object(n.jsx)(C.a,{children:Object(n.jsxs)(D.a.Group,{controlId:"awayTeam",children:[Object(n.jsx)(D.a.Label,{children:"away Team"}),Object(n.jsx)(D.a.Control,{name:"awayTeam",type:"text",placeholder:"away Team",value:l.awayTeam,onChange:b})]})}),Object(n.jsx)(C.a,{children:Object(n.jsxs)(D.a.Group,{controlId:"awayTeamScore",children:[Object(n.jsx)(D.a.Label,{children:"awayTeamScore"}),Object(n.jsx)(D.a.Control,{name:"awayTeamScore",type:"number",placeholder:"awayTeam Score",value:l.awayTeamScore,onChange:b})]})})]}),Object(n.jsxs)(y.a,{children:[Object(n.jsx)(C.a,{children:Object(n.jsxs)(D.a.Group,{controlId:"startTime",children:[Object(n.jsx)(D.a.Label,{children:"Start Time"}),Object(n.jsx)(D.a.Control,{name:"startTime",type:"text",placeholder:"start Time",value:r?new Date(l.startTime).toLocaleString():l.startTime,onChange:b}),Object(n.jsx)("small",{className:"form-text text-muted",children:"Enter the date following MM/DD/YYYY HH:MM format"})]})}),Object(n.jsx)(C.a,{children:Object(n.jsxs)(D.a.Group,{controlId:"endTime",children:[Object(n.jsx)(D.a.Label,{children:"End Time"}),Object(n.jsx)(D.a.Control,{name:"endTime",type:"text",placeholder:"End Time",value:r?new Date(l.endTime).toLocaleString():l.endTime,onChange:b}),Object(n.jsx)("small",{className:"form-text text-muted",children:"Enter the date following MM/DD/YYYY HH:MM format"})]})})]}),Object(n.jsxs)(y.a,{children:[Object(n.jsx)(C.a,{children:Object(n.jsxs)(D.a.Group,{controlId:"league",children:[Object(n.jsx)(D.a.Label,{children:"League"}),Object(n.jsx)(D.a.Control,{name:"league",type:"text",placeholder:"League",value:l.league,onChange:b})]})}),Object(n.jsx)(C.a,{children:Object(n.jsxs)(D.a.Group,{controlId:"duration",children:[Object(n.jsx)(D.a.Label,{children:"Duration"}),Object(n.jsx)(D.a.Control,{name:"duration",type:"number",placeholder:"Duration in minutes",value:l.duration,onChange:b})]})})]}),Object(n.jsx)(y.a,{children:Object(n.jsx)(C.a,{children:Object(n.jsxs)(D.a.Group,{controlId:"inActive",children:[Object(n.jsx)(D.a.Label,{children:"Is Active "}),Object(n.jsxs)(D.a.Control,{name:"isActive",as:"select",value:l.isActive,onChange:b,children:[Object(n.jsx)("option",{children:"true"}),Object(n.jsx)("option",{children:"false"})]})]})})}),Object(n.jsx)(S.a,{variant:"success",type:"submit",children:"Submit"})]})]})},H=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(null),l=Object(h.a)(s,2),O=l[0],x=l[1],f=Object(c.useState)({team:"",from:"",to:""}),p=Object(h.a)(f,2),v=p[0],T=p[1],g=Object(c.useState)(null),y=Object(h.a)(g,2),C=y[0],S=y[1];Object(c.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getAllMatches();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var M=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.deleteMatch(t);case 2:e.sent,n=a.filter((function(e){return e._id.toString()!==t.toString()})),r(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.addMatch(t);case 2:n=e.sent,c=a.concat(n),r(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.editMatch(t);case 2:n=e.sent,c=a.map((function(e){return e._id===n._id?n:e})),r(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(b.a,{children:Object(n.jsxs)(d.a,{fluid:!0,children:[Object(n.jsxs)(m.a,{path:"/",exact:!0,children:[Object(n.jsx)("h1",{children:"Matches"}),Object(n.jsx)(k,{matches:a,setFilteredMatches:S,filteredMatches:C,filter:v,setFilter:T,filterHandler:function(){var e=Object(o.a)(a);v.team&&(e=e.filter((function(e){return e.homeTeam.toLowerCase().includes(v.team.toLowerCase())||e.awayTeam.toLowerCase().includes(v.team.toLowerCase())}))),v.from&&(e=e.filter((function(e){return new Date(e.startTime).getTime()>=new Date(v.from).getTime()}))),v.to&&(e=e.filter((function(e){return new Date(e.startTime).getTime()<new Date(v.to).getTime()}))),S(e),console.log("at the end",e)}}),Object(n.jsx)(A,{matches:C||a,deleteMatch:M,setCurrent:x,filteredMatches:C,setFilteredMatches:S})]}),Object(n.jsx)(m.a,{path:"/matches/add",render:function(e){return Object(n.jsx)(I,Object(i.a)(Object(i.a)({},e),{},{matches:a,text:"Add New Match",onSubmit:L}))}}),Object(n.jsx)(m.a,{path:"/:id",exact:!0,render:function(e){return Object(n.jsx)(I,Object(i.a)(Object(i.a)({},e),{},{matches:a,text:"Edit Match",onSubmit:D,current:O}))}})]})})};s.a.render(Object(n.jsx)(H,{}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.d9f65811.chunk.js.map